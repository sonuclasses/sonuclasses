<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonu Classes</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f9; text-align: center; margin: 0; padding: 0; }
        header { background-color: #2E7D32; color: white; padding: 20px 0; display: flex; justify-content: space-around; align-items: center; }
        h1 { margin: 0; font-size: 30px; }
        .login-link { background-color: white; color: #2E7D32; padding: 8px 15px; text-decoration: none; border-radius: 5px; font-weight: bold; cursor: pointer; border: none; font-size: 16px; }
        .container { margin: 40px auto; width: 90%; max-width: 800px; }
        .class-btn { display: inline-block; background-color: #1976D2; color: white; padding: 15px 30px; margin: 15px; text-decoration: none; border-radius: 8px; font-size: 22px; font-weight: bold; }
        #user-greeting { font-size: 16px; margin-right: 15px; color: yellow; }
    </style>
</head>
<body style="display: none;" id="main-body"> <header>
    <h1>Sonu Classes</h1>
    <div>
        <span id="user-greeting"></span>
        <a href="#" class="login-link" id="auth-btn">लॉगआउट (Logout)</a>
    </div>
</header>
<div class="container">
    <h2>अपनी क्लास चुनें:</h2>
    <a href="#" class="class-btn">Class 8</a>
    <a href="#" class="class-btn">Class 9</a>
    <a href="#" class="class-btn">Class 10</a>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDCzAhpQonWiNDtWmyox5QdPd4xRbpOy30",
    authDomain: "sonuclasses-b19db.firebaseapp.com",
    projectId: "sonuclasses-b19db",
    storageBucket: "sonuclasses-b19db.firebasestorage.app",
    messagingSenderId: "166740602272",
    appId: "1:166740602272:web:af9131ad8c5e4c8fca08c5"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const authBtn = document.getElementById('auth-btn');
  const userGreeting = document.getElementById('user-greeting');
  const mainBody = document.getElementById('main-body');

  onAuthStateChanged(auth, (user) => {
    if (user) {
      // अगर लॉगिन है, तो वेबसाइट दिखाओ
      mainBody.style.display = "block";
      userGreeting.innerText = "नमस्ते स्टूडेंट!"; 
      authBtn.onclick = () => {
        signOut(auth).then(() => {
          window.location.replace("login.html"); // लॉगआउट करते ही लॉगिन पेज पर फेंकेगा
        });
      };
    } else {
      // अगर लॉगिन नहीं है, तो तुरंत वापस लॉगिन पेज पर भेज दो
      window.location.replace("login.html");
    }
  });
</script>
</body>
</html>
