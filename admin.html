<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Sonu Classes</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f4f9; padding: 20px; text-align: center; }
        .admin-box { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 500px; margin: auto; text-align: left; margin-bottom: 20px; border-top: 5px solid #E65100;}
        h2 { color: #E65100; margin-top: 0; font-size: 20px; border-bottom: 2px dashed #ddd; padding-bottom: 10px;}
        label { font-weight: bold; margin-top: 15px; display: block; color: #333; font-size: 14px;}
        input, textarea, select { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        button { background-color: #2E7D32; color: white; border: none; padding: 15px; width: 100%; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.2); }
        button:active { transform: scale(0.98); background-color: #1b5e20; }
    </style>
</head>
<body>

    <h1 style="color: #1976D2; margin-bottom: 5px;">Sonu Classes</h1>
    <p style="margin-top: 0; color: #555; font-weight: bold;">ЁЯЫая╕П рдЦреВреЮрд┐рдпрд╛ рдПрдбрдорд┐рди рдкреИрдирд▓</p>

    <div class="admin-box" style="border-top-color: #1976D2;">
        <h2 style="color: #1976D2;">ЁЯУв рдЖрдЬ рдХреА рддрд╛рдЬрд╝рд╛ рдиреНрдпреВрдЬрд╝ рдмрджрд▓реЗрдВ</h2>
        <label>рдиреНрдпреВрдЬрд╝ рдЯрд╛рдЗрдк рдХрд░реЗрдВ:</label>
        <textarea id="news-text" rows="3" placeholder="рдпрд╣рд╛рдБ рдирдИ рдиреНрдпреВрдЬрд╝ рд▓рд┐рдЦреЗрдВ..."></textarea>
        <button onclick="updateNews()" style="background-color: #1976D2;">тЬЕ рдиреНрдпреВрдЬрд╝ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ</button>
    </div>

    <div class="admin-box" style="border-top-color: #4CAF50;">
        <h2 style="color: #4CAF50;">ЁЯУЪ рд╕реНрдЯрдбреА рдиреЛрдЯреНрд╕ (PDF) рдХреЗ рд▓рд┐рдВрдХ рдбрд╛рд▓реЗрдВ</h2>
        <p style="font-size: 12px; color: gray; margin-top: 0;">рдпрд╣рд╛рдБ рдЕрдкрдиреЗ Google Drive рдХреЗ PDF рдХрд╛ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ</p>
        
        <label>рдЧрдгрд┐рдд (Math) PDF рдХрд╛ рд▓рд┐рдВрдХ:</label>
        <input type="text" id="math-pdf" placeholder="рдпрд╣рд╛рдБ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ...">
        
        <label>рдЗрддрд┐рд╣рд╛рд╕ (History) PDF рдХрд╛ рд▓рд┐рдВрдХ:</label>
        <input type="text" id="history-pdf" placeholder="рдпрд╣рд╛рдБ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ...">
        
        <button onclick="updatePDFs()" style="background-color: #4CAF50;">тЬЕ PDF рд▓рд┐рдВрдХ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ</button>
    </div>

    <div class="admin-box">
        <h2>ЁЯУЭ рдЖрдЬ рдХрд╛ рдирдпрд╛ рдХреНрд╡рд┐рдЬрд╝ рдбрд╛рд▓реЗрдВ</h2>
        <label>рдкреНрд░рд╢реНрди (Question):</label>
        <input type="text" id="q-text" placeholder="рдЬреИрд╕реЗ: рднрд╛рд░рдд рдХреА рд░рд╛рдЬрдзрд╛рдиреА рдХреНрдпрд╛ рд╣реИ?">
        
        <label>Option A:</label> <input type="text" id="opt-a" placeholder="рдкрд╣рд▓рд╛ рд╡рд┐рдХрд▓реНрдк">
        <label>Option B:</label> <input type="text" id="opt-b" placeholder="рджреВрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк">
        <label>Option C:</label> <input type="text" id="opt-c" placeholder="рддреАрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк">
        <label>Option D:</label> <input type="text" id="opt-d" placeholder="рдЪреМрдерд╛ рд╡рд┐рдХрд▓реНрдк">
        
        <label>рдЗрдирдореЗрдВ рд╕реЗ рд╕рд╣реА рдЬрд╡рд╛рдм рдХреМрди рд╕рд╛ рд╣реИ?</label>
        <select id="correct-ans">
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
        </select>

        <button onclick="updateQuiz()">тЬЕ рдХреНрд╡рд┐рдЬрд╝ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ</button>
    </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDCzAhpQonWiNDtWmyox5QdPd4xRbpOy30",
    authDomain: "sonuclasses-b19db.firebaseapp.com",
    databaseURL: "https://sonuclasses-b19db-default-rtdb.firebaseio.com",
    projectId: "sonuclasses-b19db",
    storageBucket: "sonuclasses-b19db.firebasestorage.app",
    messagingSenderId: "166740602272",
    appId: "1:166740602272:web:af9131ad8c5e4c8fca08c5"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  window.updateNews = () => {
      const news = document.getElementById('news-text').value;
      if(news.trim() === "") { alert("рдХреГрдкрдпрд╛ рдиреНрдпреВрдЬрд╝ рдмреЙрдХреНрд╕ рдореЗрдВ рдХреБрдЫ рд▓рд┐рдЦреЗрдВ!"); return; }
      set(ref(db, 'appData/news'), news)
      .then(() => alert("ЁЯОЙ рдмрд╣реБрдд рдмреЭрд┐рдпрд╛! рдирдИ рдиреНрдпреВрдЬрд╝ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд╕реЗрд╡ рд╣реЛ рдЧрдИ рд╣реИ!"))
      .catch((error) => alert("рдПрд░рд░: " + error.message));
  };

  // рдирдпрд╛ PDF рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХрд╛ рдлрдВрдХреНрд╢рди
  window.updatePDFs = () => {
      const mathLink = document.getElementById('math-pdf').value;
      const historyLink = document.getElementById('history-pdf').value;
      
      set(ref(db, 'appData/pdfs'), {
          math: mathLink,
          history: historyLink
      })
      .then(() => alert("ЁЯОЙ рд╢рд╛рдирджрд╛рд░! PDF рдХреЗ рдирдП рд▓рд┐рдВрдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд▓рд╛рдЗрд╡ рд╣реЛ рдЧрдП рд╣реИрдВ!"))
      .catch((error) => alert("рдПрд░рд░: " + error.message));
  };

  window.updateQuiz = () => {
      const q = document.getElementById('q-text').value;
      const a = document.getElementById('opt-a').value;
      const b = document.getElementById('opt-b').value;
      const c = document.getElementById('opt-c').value;
      const d = document.getElementById('opt-d').value;
      const ans = document.getElementById('correct-ans').value;

      if(q==="" || a==="" || b==="" || c==="" || d==="") {
          alert("рдХреГрдкрдпрд╛ рдкреНрд░рд╢реНрди рдФрд░ рд╕рднреА 4 рд╡рд┐рдХрд▓реНрдк рднрд░реЗрдВ!"); return;
      }

      set(ref(db, 'appData/quiz'), {
          question: q, optionA: a, optionB: b, optionC: c, optionD: d, answer: ans
      })
      .then(() => alert("ЁЯОЙ рд╢рд╛рдирджрд╛рд░! рдЖрдЬ рдХрд╛ рдирдпрд╛ рдХреНрд╡рд┐рдЬрд╝ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд▓рд╛рдЗрд╡ рд╣реЛ рдЧрдпрд╛ рд╣реИ!"))
      .catch((error) => alert("рдПрд░рд░: " + error.message));
  };
</script>
</body>
</html>
