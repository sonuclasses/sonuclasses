<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Sonu Classes</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f4f9; padding: 20px; text-align: center; }
        .admin-box { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 400px; margin: auto; text-align: left; border-top: 5px solid #1976D2;}
        h2 { color: #1976D2; text-align: center; margin-top: 0; }
        label { font-weight: bold; color: #333; display: block; margin-top: 20px; font-size: 15px; }
        input { width: 100%; padding: 12px; margin-top: 8px; border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; outline: none; transition: 0.3s; }
        input:focus { border-color: #1976D2; }
        .save-btn { background: #2E7D32; color: white; padding: 12px; border: none; border-radius: 8px; width: 100%; font-weight: bold; margin-top: 10px; cursor: pointer; font-size: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: 0.2s; }
        .save-btn:active { transform: scale(0.95); }
    </style>
</head>
<body>

<div class="admin-box">
    <h2>ЁЯФТ рдЦреВреЮрд┐рдпрд╛ рдПрдбрдорд┐рди рдкреИрдирд▓</h2>
    <p style="text-align:center; color:gray; font-size:13px; margin-bottom: 20px;">рдпрд╣рд╛рдБ рдЕрдкрдиреЗ Google Drive рдХрд╛ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ 'рд╕реЗрд╡' рджрдмрд╛рдПрдБред</p>
    
    <label>ЁЯФм рд╡рд┐рдЬреНрдЮрд╛рди - Lesson 1:</label>
    <input type="text" id="sci_ch1" placeholder="рдпрд╣рд╛рдБ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ...">
    <button class="save-btn" onclick="saveLink('sci_ch1')">ЁЯТ╛ рд╕реЗрд╡ рдХрд░реЗрдВ</button>

    <label>ЁЯУЬ рдЗрддрд┐рд╣рд╛рд╕ - Lesson 1:</label>
    <input type="text" id="hist_ch1" placeholder="рдпрд╣рд╛рдБ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ...">
    <button class="save-btn" onclick="saveLink('hist_ch1')">ЁЯТ╛ рд╕реЗрд╡ рдХрд░реЗрдВ</button>

    <label>ЁЯУР рдЧрдгрд┐рдд - Lesson 1:</label>
    <input type="text" id="math_ch1" placeholder="рдпрд╣рд╛рдБ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ...">
    <button class="save-btn" onclick="saveLink('math_ch1')">ЁЯТ╛ рд╕реЗрд╡ рдХрд░реЗрдВ</button>
    
    <br><br>
    <a href="class10.html" style="display:block; text-align:center; color:#1976D2; text-decoration:none; font-weight:bold; padding: 10px; border: 2px solid #1976D2; border-radius: 8px;">ЁЯМР рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдБ</a>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
  import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDCzAhpQonWiNDtWmyox5QdPd4xRbpOy30",
    authDomain: "sonuclasses-b19db.firebaseapp.com",
    databaseURL: "https://sonuclasses-b19db-default-rtdb.firebaseio.com",
    projectId: "sonuclasses-b19db",
    storageBucket: "sonuclasses-b19db.firebasestorage.app",
    messagingSenderId: "166740602272",
    appId: "1:166740602272:web:af9131ad8c5e4c8fca08c5"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  get(ref(db, 'appData/pdfs')).then((snapshot) => {
      if (snapshot.exists()) {
          const data = snapshot.val();
          if(data.sci_ch1) document.getElementById('sci_ch1').value = data.sci_ch1;
          if(data.hist_ch1) document.getElementById('hist_ch1').value = data.hist_ch1;
          if(data.math_ch1) document.getElementById('math_ch1').value = data.math_ch1;
      }
  });

  window.saveLink = (chapterId) => {
      const linkValue = document.getElementById(chapterId).value;
      if(linkValue.trim() === "") {
          alert("тЪая╕П рдкрд╣рд▓реЗ рдЦрд╛рд▓реА рдбрдмреНрдмреЗ рдореЗрдВ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ!");
          return;
      }
      set(ref(db, 'appData/pdfs/' + chapterId), linkValue)
      .then(() => {
          alert("ЁЯОЙ рдмрдзрд╛рдИ рд╣реЛ! рдЖрдкрдХрд╛ рд▓рд┐рдВрдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдореЗрдВ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕реЗрд╡ рд╣реЛ рдЧрдпрд╛ рд╣реИред");
      })
      .catch((error) => {
          alert("Error: " + error.message);
      });
  };
</script>
</body>
</html>
